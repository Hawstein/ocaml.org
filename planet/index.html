<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
    
    <meta content="IE=8" http-equiv="X-UA-Compatible"/>
    <title>OCaml :: OCaml Planet</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="Ashish Agarwal, Esther Baruk, Christophe Troestler and many contributors" name="author"/>
    <meta content="" name="description"/>
    <meta content="" name="keywords"/>
    <meta content="OCaml (Weberizer)" name="generator"/>

    <link href="http://ocaml.org/img/favicon.ico" rel="shortcut icon"/>
    <link rel="stylesheet" href=".././css/bootstrap.css"/>
    <link href=".././css/ocaml.css" media="all" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href=".././css/bootstrap-responsive.css"/>

    
    

    <meta content="OCaml Planet" property="og:title"/>
    <meta content="non_profit" property="og:type"/>

    <meta content="all" name="robots"/>
  </head>
  <body>
    <div id="header">
      <div class="top">
      </div>
      <div class="bottom">
      </div>
    </div>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
	  
          <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a href=".././" class="brand">OCaml</a>

          <div class="nav-collapse">
            <ul class="nav">
	      <li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Discover
    <b class="caret"></b>
  </a>
  <ul class="dropdown-menu">
    <li><a href="../description.html">What is OCaml?</a></li>
    <li><a href="http://try.ocamlpro.com/">Try it Online</a></li>
    <li><a href="../taste.html">100 Lines of OCaml</a></li>
    <li><a href="../success.html">Success Stories</a></li>
    <li><a href="../companies.html">Who Is Using It?</a></li>
    <li><a href="http://pleac.sourceforge.net/pleac_ocaml/">Pleac</a></li>
    <li><a href="http://rosettacode.org/wiki/Category:OCaml">Rosetta</a>
        <a href="http://langref.org/ocaml">langref.org</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">
    Learn
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../install.html">Install</a></li>
    <li><a href="../tutorials/">Tutorials</a></li>
    <li><a href="../faq.html">FAQ</a></li>
    <li><a href="../books.html">Books</a></li>
    <li><a href="../videos.html">Videos</a></li>
    <li><a href="../papers.html">Papers</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Use
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../releases/">Releases</a></li>
    <li><a href="../libraries.html">Libraries</a></li>
    <li><a href="../dev_tools.html">Development Tools</a></li>
    <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/">User Manual</a></li>
    <li><a href="../cheat_sheets.html">Cheat Sheets</a></li>
    <li><a href="http://search.ocaml.jp/">OCaml API Search</a></li>
    <li><a href="http://forge.ocamlcore.org/">Forge</a></li>
    <li><a href="https://github.com/languages/OCaml">GitHub</a></li>
    <li><a href="https://bitbucket.org/repo/all?name=ocaml">Bitbucket</a></li>
    <li><a href="http://gitorious.org/search?page=1&q=ocaml">Gitorious</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">Community
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="../mailing_lists.html">Mailing Lists</a></li>
    <li><a href="../planet/">Blogs</a></li>
    <li><a href="../meetings/">Meetings</a></li>
    <li><a href="irc://irc.freenode.net/ocaml">IRC</a></li>
    <li><a href="http://stackoverflow.com/questions/tagged?tagnames=ocaml">Stack Overflow</a></li>
    <li><a href="http://www.reddit.com/r/ocaml/">Reddit</a></li>
    <li><a href="../support.html">Commercial Support</a></li>
  </ul>
</li>
<li class="dropdown">
  <a href="../#" class="dropdown-toggle" data-toggle="dropdown">More
    <b class="caret"></b></a>
  <ul class="dropdown-menu">
    <li><a href="http://caml.inria.fr/mantis/">Mantis Bug Tracker</a></li>
    <li><a href="../caml-light/">Caml Light</a></li>
    <li><a href="../logos.html">Logos</a></li>
  </ul>
</li>

            </ul>
	    <form action="http://www.google.com/search" method="get" class="navbar-search pull-right">
	      <input placeholder="Search" class="search-query" name="q" type="text"/>
	      <input value="site:http://ocaml.org/" name="q" type="hidden"/>
	    </form>
            
	    
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <span class="navigation-bar">
	<a href="./../">Home</a><span class="separation"><img src=".././img/right_arrow.png" alt="&gt;"/></span>OCaml Planet
	<span id="language">
	  <span class="horizontal-toolbar"><span class="open-bracket">[</span><span class="current-url">En</span><span class="close-bracket">]</span></span>
	</span>
      </span>

      

    <h1>OCaml Planet</h1>

    <p>The OCaml Planet aggregates various blogs from the OCaml
    community.  It is kindly provided
    by <a href="http://www.ocamlcore.com/">OCamlCore</a>.  If you
    would like to be added, read
    the <a href="http://www.ocamlcore.org/planet/">Planet
    subscription HOWTO</a>.</p>

    <br/>
    <div style="float: right; margin-right: 0; margin-top: 0" class="span2 planet-subscriptions"><em>Subscriptions</em>
      <ul><li><a href="http://alexleighton.tumblr.com/tagged/ocaml/rss">Alex Leighton</a></li><li><a href="http://feeds.feedburner.com/amirmc-ocaml">Amir Chaudhry</a></li><li><a href="http://andreiformiga.com/blog/?cat=5&feed=rss2">Andrei Formiga</a></li><li><a href="http://math.andrej.com/feed/">Andrej Bauer</a></li><li><a href="http://anil.recoil.org/feeds/atom.xml">Anil Madhavapeddy</a></li><li><a href="http://ashishagarwal.org/tag/ocaml/feed/">Ashish Agarwal</a></li><li><a href="http://cufp.org/rss/news">CUFP</a></li><li><a href="http://www.blogger.com/feeds/7617521785419311079/posts/default">Cameleon news</a></li><li><a href="http://caml.inria.fr/news.en.rss">Caml INRIA</a></li><li><a href="http://camlspotter.blogspot.com/feeds/posts/default?alt=rss">Caml Spotting</a></li><li><a href="http://alan.petitepomme.net/cwn/cwn.rss">Caml Weekly News</a></li><li><a href="http://coherentpdf.com/blog/?tag=ocaml&feed=rss2">Coherent Graphics</a></li><li><a href="http://coq.inria.fr/news/feed">Coq</a></li><li><a href="http://erratique.ch/feeds/news.atom">Daniel Bünzli</a></li><li><a href="http://nleyten.com:82/feed/tag/ocaml/atom">Dario Teixeira</a></li><li><a href="http://www.blogger.com/feeds/17133288/posts/default/-/ocaml">David Baelde</a></li><li><a href="http://blog.bentobako.org/index.php?feed/tag/ocaml/atom">David Mentré</a></li><li><a href="http://dutherenverseauborddelatable.wordpress.com/category/ocaml/feed/">David Teller</a></li><li><a href="http://www.examachine.net/blog/cat/ocaml/feed/">Eray Özkural</a></li><li><a href="http://www.mega-nerd.com/erikd/Blog/index.rss20">Erik de Castro Lopo</a></li><li><a href="http://blog.emillon.org/feeds/ocaml.xml">Etienne Millon</a></li><li><a href="http://frama-c.com/rss.xml">Frama-C</a></li><li><a href="http://functionaljobs.com/jobs/search/?q=ocaml&format=rss">Functional Jobs</a></li><li><a href="http://gallium.inria.fr/blog/index.rss">GaGallium</a></li><li><a href="http://gaiustech.wordpress.com/category/ocaml/feed/">Gaius Hammond</a></li><li><a href="http://blog.camlcity.org/blog/rss">Gerd Stolpmann</a></li><li><a href="http://jobs.github.com/positions.atom?description=ocaml&location=">Github OCaml jobs</a></li><li><a href="http://www.wisdomandwonder.com/tag/OCaml/feed">Grant Rettke</a></li><li><a href="http://hongboz.wordpress.com/feed/">Hong bo Zhang</a></li><li><a href="http://blog.incubaid.com/tag/ocaml/feed/">Incubaid Research</a></li><li><a href="http://ambassadortothecomputers.blogspot.com/feeds/posts/default?alt=rss">Jake Donham</a></li><li><a href="http://scattered-thoughts.net/atom.xml">Jamie Brandon</a></li><li><a href="https://ocaml.janestreet.com/?q=rss.xml">Jane Street</a></li><li><a href="http://lpw25.net/rss.xml">Leo White</a></li><li><a href="http://www.lexifi.com/blogs/ocaml/feed">LexiFi</a></li><li><a href="http://newblog.0branch.com/rss.xml">Marc Simpson</a></li><li><a href="http://syntaxexclamation.wordpress.com/tag/ocaml/feed/">Matthias Puech</a></li><li><a href="http://www.blogger.com/feeds/5888658295182480819/posts/default">Matías Giovannini</a></li><li><a href="">Mihamina Rakotomandimby</a></li><li><a href="http://mcclurmc.wordpress.com/feed/">Mike McClurg</a></li><li><a href="http://nyc-ocaml.posterous.com/rss.xml">NYC OCaml</a></li><li><a href="http://ocaml-book.com/blog?format=rss">OCaml Book</a></li><li><a href="http://ocamllabs.github.com/compiler-hacking/rss.xml">OCaml Labs compiler hacking</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfnews.php">OCamlCore Forge News</a></li><li><a href="http://forge.ocamlcore.org/export/rss_sfprojects.php">OCamlCore Forge Projects</a></li><li><a href="http://www.ocamlcore.com/wp/feed/?amp;language=en&language=en">OCamlCore.com</a></li><li><a href="http://www.ocamlpro.com/feed/atom.xml">OCamlPro</a></li><li><a href="http://odns.tuxfamily.org/feed/">ODNS project</a></li><li><a href="http://ox.tuxfamily.org/feed/">Ocaml XMPP project</a></li><li><a href="http://ocsigen.org/news.atom">Ocsigen project</a></li><li><a href="http://www.blogger.com/feeds/2073503406800427577/posts/default">Opa</a></li><li><a href="http://www.openmirage.org/blog/atom.xml">Open Mirage</a></li><li><a href="http://functional-orbitz.blogspot.com/feeds/posts/default/-/planetocaml?alt=rss">Orbitz</a></li><li><a href="http://www.donadeo.net/facets/programming-languages/objective-caml/feed/">Paolo Donadeo</a></li><li><a href="https://mancoosi.org/~abate/taxonomy/term/5/0/feed">Pietro Abate</a></li><li><a href="http://rwmj.wordpress.com/tag/ocaml/feed/">Richard Jones</a></li><li><a href="http://blog.rastageeks.org/spip.php?page=rss&id_mot=2">Romain Beauxis</a></li><li><a href="http://seb.mondet.org/blog/feed/ocaml.rss">Sebastien Mondet</a></li><li><a href="http://upsilon.cc/~zack/tags/ocaml/index.rss">Stefano Zacchiroli</a></li><li><a href="http://le-gall.net/sylvain+violaine/blog/index.php?feed/tag/ocaml/atom">Sylvain Le Gall</a></li><li><a href="http://caml.inria.fr/hump.rss">The Caml Humps</a></li><li><a href="http://www.blogger.com/feeds/6115529230232389198/posts/default">Till Varoquaux</a></li><li><a href="http://y-node.com/blog/feeds/latest/">y-node</a></li></ul>

      <a href="http://planet.ocaml.org/rss20.xml"><img src=".././img/rss20.png"/></a>
      <a href="http://planet.ocaml.org/opml.xml"><img src=".././img/opml.png"/></a>
    </div>
    <div class="planet"><a name="936fe31c771adb6f426d7bcda5c45bf2"></a><span class="rss-header"><span class="rss-title"><a href="https://forge.ocamlcore.org/forum/forum.php?forum_id=890"> ocaml-mysql 1.1.2 released</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">OCamlCore Forge News</span>, <span class="rss-date">19 Nov 2013</span></span><span class="rss-description"><pre class="rss-text">ocaml-mysql provides bindings to libmysqlclient. This release adds one function Mysql.Prepared.execute_null to support prepared statements with NULL input parameters</pre></span>
<a name="7925a78914fd888f6c06617aa3ddc2a8"></a><span class="rss-header"><span class="rss-title"><a href="http://alan.petitepomme.net/cwn/2013.11.19.html"> Caml Weekly News, 19 Nov 2013</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml Weekly News</span>, <span class="rss-date">19 Nov 2013</span></span><span class="rss-description">Software engineer position available at Cryptosense / Engineer and funded PhD position available, formal methods applied to filesystems / open-source software at OCamlPro and TypeRex-Pro / Other Caml News</span>
<a name="95e24529fbb0f6445d9ce28f00b17d68"></a><span class="rss-header"><span class="rss-title"><a href="http://jobs.github.com/positions/0a9333c4-71da-11e0-9ac7-692793c00b45"> Full Time: Software Developer (Functional Programming) at Jane Street in New York, NY; London, UK; Hong Kong</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Github OCaml jobs</span>, <span class="rss-date">18 Nov 2013</span></span><span class="rss-description"><div id="post1"><p>Software Developer (Functional Programming)</p>

<p>Jane Street is looking to hire great software developers with an interest in functional programming. OCaml, a statically typed functional programming with similarities to Haskell, Scheme, Erlang, F# and SML, is our language of choice. We've got the largest team of OCaml developers in any industrial setting, and probably the world's largest OCaml codebase. We use OCaml for running our entire business, supporting everything from research to systems administration to trading systems. If you're interested in seeing how functional programming plays out in the real world, there's no better place.</p>

<p>The atmosphere is informal and intellectual. There is a focus on education, and people learn about software and trading, both through formal classes and on the job. The work is challenging, and you get to see the practical impact of your efforts in quick and dramatic terms. Jane Street is also small enough that people have the freedom to get involved in many different areas of the business. Compensation is highly competitive, and there's a lot of room for growth.</p>

<a onclick="switchContent('post1','post2')" class="btn" href="#95e24529fbb0f6445d9ce28f00b17d68">Read more...</a></div><div id="post2" style="display: none"><p>Software Developer (Functional Programming)</p>

<p>Jane Street is looking to hire great software developers with an interest in functional programming. OCaml, a statically typed functional programming with similarities to Haskell, Scheme, Erlang, F# and SML, is our language of choice. We've got the largest team of OCaml developers in any industrial setting, and probably the world's largest OCaml codebase. We use OCaml for running our entire business, supporting everything from research to systems administration to trading systems. If you're interested in seeing how functional programming plays out in the real world, there's no better place.</p>

<p>The atmosphere is informal and intellectual. There is a focus on education, and people learn about software and trading, both through formal classes and on the job. The work is challenging, and you get to see the practical impact of your efforts in quick and dramatic terms. Jane Street is also small enough that people have the freedom to get involved in many different areas of the business. Compensation is highly competitive, and there's a lot of room for growth.</p>

<p>You can learn more about Jane Street and our technology from our main site, janestreet.com. You can also look at a a talk given at CMU about why Jane Street uses functional programming (<a href="http://ocaml.janestreet.com/?q=node/61">http://ocaml.janestreet.com/?q=node/61</a>), and our programming blog (<a href="http://ocaml.janestreet.com">http://ocaml.janestreet.com</a>).</p>

<p>We also have extensive benefits, including:</p>

<ul>
<li>90% book reimbursement for work-related books</li>
<li>90% tuition reimbursement for continuing education</li>
<li>Excellent, zero-premium medical and dental insurance</li>
<li>Free lunch delivered daily from a selection of restaurants</li>
<li>Catered breakfasts and fresh brewed Peet's coffee</li>
<li>An on-site, private gym in New York with towel service</li>
<li>Kitchens fully stocked with a variety of snack choices</li>
<li>Full company 401(k) match up to 6% of salary, vests immediately</li>
<li>Three weeks of paid vacation for new hires in the US</li>
<li>16 weeks fully paid maternity/paternity leave for primary caregivers, plus additional unpaid leave</li>
</ul>

<p>More information at <a href="http://janestreet.com/culture/benefits/">http://janestreet.com/culture/benefits/</a></p><a onclick="switchContent('post2','post1')" class="btn" href="#95e24529fbb0f6445d9ce28f00b17d68">Hide</a></div></span>
<a name="aff4a797ff7783415cde551ba2fa79c1"></a><span class="rss-header"><span class="rss-title"><a href="http://gallium.inria.fr/blog/type-systems-as-coercions"> Erasable coercions: a unified approach to type systems</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">GaGallium</span>, <span class="rss-date">18 Nov 2013</span></span><span class="rss-description"><div id="post3"><p>My <a href="http://phd.ia0.fr/">PhD thesis manuscript</a> is sent for review and I finally have some time to write a blog post about it! It presents a framework of coercions to describe and unify existing type systems. In particular, all erasable type system features (such as coherent polymorphism) are expressed as coercions, which can be seen as a subtyping relation between erasable typings.</p>




<p>The untyped lambda-calculus with constants (pairs, integers, etc.) is the simplest functional programming language and is the underlying language of different type systems such as Coq, Haskell, and OCaml for example. Each of these type systems has its own proof of soundness, and of strong normalization (in the absence of recursion). But since they share the lambda-calculus as their core language, it is interesting to study the possibility for the lambda-calculus to have a type system that would ensure the soundness and strong normalization of these other, more exciting type systems.</p>
<a onclick="switchContent('post3','post4')" class="btn" href="#aff4a797ff7783415cde551ba2fa79c1">Read more...</a></div><div id="post4" style="display: none"><p>My <a href="http://phd.ia0.fr/">PhD thesis manuscript</a> is sent for review and I finally have some time to write a blog post about it! It presents a framework of coercions to describe and unify existing type systems. In particular, all erasable type system features (such as coherent polymorphism) are expressed as coercions, which can be seen as a subtyping relation between erasable typings.</p>




<p>The untyped lambda-calculus with constants (pairs, integers, etc.) is the simplest functional programming language and is the underlying language of different type systems such as Coq, Haskell, and OCaml for example. Each of these type systems has its own proof of soundness, and of strong normalization (in the absence of recursion). But since they share the lambda-calculus as their core language, it is interesting to study the possibility for the lambda-calculus to have a type system that would ensure the soundness and strong normalization of these other, more exciting type systems.</p>
<p>The soundness and normalization for strong reduction imply the soundness and normalization for all usual strategies. As a consequence, studying soundness and normalization in a strong reduction setting is enough. Studying only the pure lambda-calculus (without side effects) still gives a result for languages with side effects when the type system keeps track of side effects with a monadic encoding, as it is the case in Haskell.</p>
<p>To define such a general type system for the lambda-calculus with strong reduction, we generalize existing ideas: several type systems use subtyping, containments, or coercions to express some of their features. For instance, System F-sub uses subtyping to retype a term or to constrain type abstraction. GHC uses equality coercions to implement GADTs and type families from its surface type system to its kernel type system.</p>
<p>In <a href="http://phd.ia0.fr/">this document</a>, we introduce a framework for defining and studying type systems based on typing coercions. We define typing coercions (which we simply call coercions) as composable and erasable typing transformations. We instantiate the framework on two type systems where all features are expressed as coercions on top of the simply-typed lambda-calculus (STLC). In particular, we make a distinction between computational types (related to computation and usually called simple types) and erasable types (related to typing). Computational types are introduced and eliminated in the term typing judgment, while erasable types are introduced and eliminated in the coercion judgment and are thus seen as inclusions between typings. Congruence rules for erasable types are derivable from their introduction and elimination rules. However, congruence for computational types have to be explicitly added to the coercion judgment. Finally, we particularly study the fundamental feature of coercion abstraction, which can be seen as a form of polymorphism (bounded or coherent).</p>
<p>We define a type system, System Lc, that can be seen as kernel type systems. It subsumes the STLC, System F, System F-eta, MLF, System F-sub (in its most general version), System F-rec (with equi-recursive types and coinduction rules), Constraint ML. As such, the soundness and normalization of System Lc simultaneously prove the soundness and normalization of the subsumed type systems. The type systems it subsumes can be seen as associated surface type systems. For instance, type systems with inference such as MLF or Constraint ML are surface type systems for System Lc.</p>
<p>A side contribution is the study of step-indexed techniques in a strong reduction setting. The proof of soundness of System Lc is formalized in Coq and documented with coqdoc.</p><a onclick="switchContent('post4','post3')" class="btn" href="#aff4a797ff7783415cde551ba2fa79c1">Hide</a></div></span>
<a name="69de0804b1dd0c8b74f912c36b6e9294"></a><span class="rss-header"><span class="rss-title"><a href="https://realworldocaml.org/"> New book: Real World OCaml, by Yaron Minsky, Anil Madhavepeddy, and Jason Hickey</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml INRIA</span>, <span class="rss-date">17 Nov 2013</span></span><span class="rss-description"></span>
<a name="63b301c3258d86588a2fefd9491db300"></a><span class="rss-header"><span class="rss-title"><a href="http://anil.recoil.org/2013/11/15/docker-and-opam.html"> Using Docker to bulk-build OPAM packages on Linux</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Anil Madhavapeddy</span>, <span class="rss-date">15 Nov 2013</span></span><span class="rss-description"><div id="post5"><a href="http://docker.io" title="Docker"><img src="http://blog.docker.io/wp-content/uploads/2013/06/Docker-logo-011.png" alt="Docker logo" style="float: right;" width="240"/></a>
<p>Now that OCaml 4.01 has been released, there is a frenzy of commit activity in the <a href="https://github.com/ocaml/ocaml">development trunk</a> of OCaml as the new features for 4.02 are all integrated. These include some enhancements to the type system such as <a href="http://ocaml.org/meetings/ocaml/2013/slides/garrigue.pdf">injectivity</a>, <a href="http://caml.inria.fr/mantis/view.php?id=6063">module aliases</a> and <a href="http://ocaml.org/meetings/ocaml/2013/slides/white.pdf">extension points</a> as a simpler alternative to syntax extensions.</p>

<p>The best way to ensure that these all play well together is to test against the ever-growing OPAM package database as early as possible. While we’re working on more elaborate <a href="http://anil.recoil.org/2013/09/30/travis-and-ocaml.html">continuous building</a> solutions, it’s far easier if a developer can quickly run a bulk build on their own system. The difficulty with doing this is that you also need to install all the external dependencies (e.g. libraries and header files for bindings) needed by the thousands of packages in OPAM.</p>

<a onclick="switchContent('post5','post6')" class="btn" href="#63b301c3258d86588a2fefd9491db300">Read more...</a></div><div id="post6" style="display: none"><a href="http://docker.io" title="Docker"><img src="http://blog.docker.io/wp-content/uploads/2013/06/Docker-logo-011.png" alt="Docker logo" style="float: right;" width="240"/></a>
<p>Now that OCaml 4.01 has been released, there is a frenzy of commit activity in the <a href="https://github.com/ocaml/ocaml">development trunk</a> of OCaml as the new features for 4.02 are all integrated. These include some enhancements to the type system such as <a href="http://ocaml.org/meetings/ocaml/2013/slides/garrigue.pdf">injectivity</a>, <a href="http://caml.inria.fr/mantis/view.php?id=6063">module aliases</a> and <a href="http://ocaml.org/meetings/ocaml/2013/slides/white.pdf">extension points</a> as a simpler alternative to syntax extensions.</p>

<p>The best way to ensure that these all play well together is to test against the ever-growing OPAM package database as early as possible. While we’re working on more elaborate <a href="http://anil.recoil.org/2013/09/30/travis-and-ocaml.html">continuous building</a> solutions, it’s far easier if a developer can quickly run a bulk build on their own system. The difficulty with doing this is that you also need to install all the external dependencies (e.g. libraries and header files for bindings) needed by the thousands of packages in OPAM.</p>

<p>Enter a hip new lightweight container system called <a href="http://docker.io">Docker</a>. While containers aren’t quite as secure as <a href="http://en.wikipedia.org/wiki/Hypervisor">type-1 hypervisors</a> such as <a href="http://xenproject.org">Xen</a>, they are brilliant for spawning lots of lightweight tasks such as installing (and reverting) package installations. Docker is still under heavy development, but it didn’t take me long to follow the documentation and put together a configuration file for creating an OCaml+OPAM image to let OCaml developers do these bulk builds.</p>

<h2 id="a_basic_docker_and_opam_setup">A basic Docker and OPAM setup</h2>

<p>I started by spinning up a fresh Ubuntu Saucy VM on the <a href="https://rackspace.com">Rackspace Cloud</a>, which has a recent enough kernel version to work out-of-the-box with Docker. The <a href="http://docs.docker.io/en/latest/installation/ubuntulinux/#ubuntu-raring">installation instructions</a> worked without any problems.</p>

<p>Next, I created a <a href="http://docs.docker.io/en/latest/use/builder/#dockerfiles-for-images">Dockerfile</a> to represent the set of commands needed to prepare the base Ubuntu image with an OPAM and OCaml environment. You can find the complete repository online at <strong><a href="https://github.com/avsm/docker-opam">https://github.com/avsm/docker-opam</a></strong>. Let’s walk through the <code>Dockerfile</code> in chunks.</p>
<div class="highlight"><pre><code class="sh">FROM ubuntu:latest
MAINTAINER Anil Madhavapeddy &lt;anil@recoil.org&gt;
RUN apt-get -y install sudo pkg-config git build-essential m4 software-properties-common
RUN git config --global user.email <span class="s2">"docker@example.com"</span>
RUN git config --global user.name <span class="s2">"Docker CI"</span>
RUN apt-get -y install python-software-properties
RUN <span class="nb">echo</span> <span class="s2">"yes"</span> | add-apt-repository ppa:avsm/ocaml41+opam11
RUN apt-get -y update -qq
RUN apt-get -y install -qq ocaml ocaml-native-compilers camlp4-extra opam
ADD opam-installext /usr/bin/opam-installext
</code></pre></div>
<p>This sets up a basic OCaml and OPAM environment using the same Ubuntu PPAs as the <a href="http://anil.recoil.org/2013/09/30/travis-and-ocaml.html">Travis instructions</a> I posted a few months ago. The final command adds a helper script which uses the new <code>depexts</code> feature in OPAM 1.1 to also install operating system packages that are required by some libraries. I’ll explain in more detail in a later post, but for now all you need to know is that <code>opam installext ctypes</code> will not only install the <code>ctypes</code> OCaml library, but also invoke <code>apt-get install libffi-dev</code> to install the relevant development library first.</p>
<div class="highlight"><pre><code class="sh">RUN adduser --disabled-password --gecos <span class="s2">""</span> opam
RUN passwd -l opam
ADD opamsudo /etc/sudoers.d/opam
USER opam
ENV HOME /home/opam
ENV OPAMVERBOSE 1
ENV OPAMYES 1
</code></pre></div>
<p>The next chunk of the Dockerfile configures the OPAM environment by installing a non-root user (several OPAM packages fail with an error if configured as root). We also set the <code>OPAMVERBOSE</code> and <code>OPAMYES</code> variables to ensure we get the full build logs and non-interactive use, respectively.</p>

<h2 id="running_the_bulk_tests">Running the bulk tests</h2>

<p>We’re now set to build a Docker environment for the exact test that we want to run.</p>
<div class="highlight"><pre><code class="sh">RUN opam init git://github.com/mirage/opam-repository#add-depexts-11
RUN opam install ocamlfind
ENTRYPOINT <span class="o">[</span><span class="s2">"usr/bin/opam-installext"</span><span class="o">]</span>
</code></pre></div>
<p>This last addition to the <code>Dockerfile</code> initializes our OPAM package set. This is using my development branch which adds a <a href="https://github.com/ocaml/opam-repository/pull/1240">massive diff</a> to populate the OPAM metadata with external dependency information for Ubuntu and Debian.</p>

<p>Building an image from this is a single command:</p>
<div class="highlight"><pre><code class="sh">docker build -t avsm/opam github.com/avsm/docker-opam
</code></pre></div>
<p>The <code>ENTRYPOINT</code> tells Docker that our wrapper script is the “root command” to run for this container, so we can install a package in a container by doing this:</p>
<div class="highlight"><pre><code class="sh">docker run avsm/opam ctypes
</code></pre></div>
<p>The complete output is logged to stdout and stderr, so we can capture that as easily as a normal shell command. With all these pieces in place, my local bulk build shell script is trivial:</p>
<div class="highlight"><pre><code class="sh"><span class="nv">pkg</span><span class="o">=</span><span class="sb">`</span>opam list -s -a<span class="sb">`</span>
<span class="nv">RUN</span><span class="o">=</span>5
mkdir -p /log/<span class="nv">$RUN</span>/raw /log/<span class="nv">$RUN</span>/err /log/<span class="nv">$RUN</span>/ok
<span class="k">for </span>p in <span class="nv">$pkg</span>; <span class="k">do</span>
<span class="k">  </span>docker run avsm/opam <span class="nv">$p</span> &gt; /log/<span class="nv">$RUN</span>/raw/<span class="nv">$p</span> 2&gt;&amp;1
  <span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> !<span class="o">=</span> 0 <span class="o">]</span>; <span class="k">then</span>
<span class="k">    </span>ln -s /log/<span class="nv">$RUN</span>/raw/<span class="nv">$p</span> /log/<span class="nv">$RUN</span>/err/<span class="nv">$p</span>
  <span class="k">else</span>
<span class="k">    </span>ln -s /log/<span class="nv">$RUN</span>/raw/<span class="nv">$p</span> /log/<span class="nv">$RUN</span>/ok/<span class="nv">$p</span>
  <span class="k">fi</span>
<span class="k">done</span>  
</code></pre></div>
<p>This iterates through a local package set and serially builds everything. Future enhancements I’m working on: parallelising these on a multicore box, and having a <a href="http://blog.docker.io/2013/10/docker-0-6-5-links-container-naming-advanced-port-redirects-host-integration/">linked container</a> that hosts a local package repository so that we don’t require a lot of external bandwidth. Stay tuned!</p><a onclick="switchContent('post6','post5')" class="btn" href="#63b301c3258d86588a2fefd9491db300">Hide</a></div></span>
<a name="376d2f9b8db4ac3c425e8645ae939756"></a><span class="rss-header"><span class="rss-title"><a href="http://alan.petitepomme.net/cwn/2013.11.12.html"> Caml Weekly News, 12 Nov 2013</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Caml Weekly News</span>, <span class="rss-date">12 Nov 2013</span></span><span class="rss-description">Migration plan and bug hunt for ocaml.org - http://preview.ocaml.org / out-of-the-heap 'a arrays ? / final release of OPAM 1.1.0 / opam2debian v0.1.0: Create Debian package that contains a set of OPAM packages / Real World OCaml is finished / Real World OCaml now available online and print / exenum.0.6: exhaustive enumerations for datatypes / Other Caml News</span>
<a name="aca716d11cd2f36fb46eeb2d9752e9e1"></a><span class="rss-header"><span class="rss-title"><a href="http://rwmj.wordpress.com/2013/11/11/why-is-virt-builder-written-in-ocaml/"> Why is virt-builder written in OCaml?</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Richard Jones</span>, <span class="rss-date">11 Nov 2013</span></span><span class="rss-description"><div id="post7"><p><img src="http://libguestfs.org/virt-builder.svg" style="float: right;" width="250"/></p>
<p><a href="https://news.ycombinator.com/item?id=6709517">Docker is written in Go.</a>  <a href="http://libguestfs.org/virt-builder.1.html">virt-builder</a> is written in OCaml.  Why?  (Or as someone at work asked me — apparently seriously — why did you write it in a language which only you can use?)</p>
<p>Virt-builder is a fairly thin wrapper around <a href="http://libguestfs.org">libguestfs</a> and libguestfs has bindings for a dozen languages, and I’m pretty handy in most programming languages, so it could have been done in Python or C or even Go.  In this case there are reasons why OCaml is a much better choice:</p>
<a onclick="switchContent('post7','post8')" class="btn" href="#aca716d11cd2f36fb46eeb2d9752e9e1">Read more...</a></div><div id="post8" style="display: none"><p><img src="http://libguestfs.org/virt-builder.svg" style="float: right;" width="250"/></p>
<p><a href="https://news.ycombinator.com/item?id=6709517">Docker is written in Go.</a>  <a href="http://libguestfs.org/virt-builder.1.html">virt-builder</a> is written in OCaml.  Why?  (Or as someone at work asked me — apparently seriously — why did you write it in a language which only you can use?)</p>
<p>Virt-builder is a fairly thin wrapper around <a href="http://libguestfs.org">libguestfs</a> and libguestfs has bindings for a dozen languages, and I’m pretty handy in most programming languages, so it could have been done in Python or C or even Go.  In this case there are reasons why OCaml is a much better choice:</p>
<ul>
<li> It’s a language I’m familiar with and happy programming in.  Never underestimate how much that matters.
</li><li> OCaml is strongly typed, helping to eliminate many errors.  If it had been written in Python we’d be running into bugs at customer sites that could have been eliminated by the compiler before anything shipped.  That doesn’t mean virt-builder is bug free, but if the compiler can help to remove a bug, why not have the compiler do that?
</li><li> Virt-builder has to be fast, and OCaml is fast.  Python is fucking slow.
</li><li> I had some C code for doing <a href="http://git.annexia.org/?p=pxzcat.git;a=summary">parallel xzcat</a> and with OCaml I can just link the C code and the OCaml code together directly into a single native binary.  Literally you just mix C object files and OCaml object files together on the linker command line.  Doing this in, say, Perl/Python/Ruby would be far more hassle.  We would have ended up with either a slow interpreted implementation, or having to ship a separate .so file and have the virt-builder program find it and dynamically load it.  Ugh.
</li><li> There was a little bit of common code used by another utility called <a href="http://libguestfs.org/virt-sysprep.1.html">virt-sysprep</a> which started out as a shell script but is now also written in OCaml.  Virt-sysprep regularly gets outside contributions, despite being written in OCaml.  I could have written the small amount of common code in C to get around this, but every little helps.
</li></ul>
<p>Is OCaml a language that only I can understand?  Judge for yourself by <a href="https://github.com/libguestfs/libguestfs/blob/master/builder/builder.ml">looking at the source code</a>.  I think if you cannot understand that enough to at least make small changes, you should hand in your programmer’s card at the door.</p>
<p>Edit: <a href="https://news.ycombinator.com/item?id=6711893">Hacker News discussion of this article</a>.</p><br/>  <a href="http://feeds.wordpress.com/1.0/gocomments/rwmj.wordpress.com/4776/" rel="nofollow"><img src="http://feeds.wordpress.com/1.0/comments/rwmj.wordpress.com/4776/" alt="" border="0"/></a> <img src="http://stats.wordpress.com/b.gif?host=rwmj.wordpress.com&amp;blog=6840703&amp;post=4776&amp;subd=rwmj&amp;ref=&amp;feed=1" alt="" height="1" border="0" width="1"/><a onclick="switchContent('post8','post7')" class="btn" href="#aca716d11cd2f36fb46eeb2d9752e9e1">Hide</a></div></span>
<a name="6669830c2e0c05e85b490aca7e1d38e0"></a><span class="rss-header"><span class="rss-title"><a href="https://ocaml.janestreet.com/?q=node/117"> The making of Real World OCaml</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Jane Street</span>, <span class="rss-date">11 Nov 2013</span></span><span class="rss-description"><div id="post9"><p><a href="http://amzn.to/1afkSIe">
<img src="https://realworldocaml.org/media/img/coversmall.png" align="left" width="150"/>
</a></p>

<p>It's taken a good long while, but Real World OCaml is finally done.
You can read it for free at
<a href="http://realworldocaml.org">http://realworldocaml.org</a>, or buy a
<a href="http://amzn.to/1afkSIe">hardcopy</a> or an
<a href="http://amzn.to/1gzzxTO">ebook</a> <a href="http://oreil.ly/S2Vtdh">version</a>.</p>

<p>The idea for the book was born in a bar in Tokyo in 2011.  After
talk-filled day at ICFP, a few of us, Ashish Agarwal and Marius
Eriksen, Anil, and myself, went out drinking.  We were all bellyaching
over the lack of a high-quality OCaml book in English, and, emboldened
by the Guinness and egged on by Ashish and Marius, Anil and I decided
that we were just going to have to go ahead and write the book
ourselves.  We brought Jason into the project soon after.</p>

<p>From the very beginning, Anil and I had different visions for the
book.  From my perspective, it was a simple proposition: there was no
good book available, and we were going to write one.  The goal was to
document the state of the art so as to make it more accessible.</p>

<p>Anil's vision was grander.  He argued that writing a book is an
opportunity to discover all of the things that are just too
embarrassing to explain.  And, once discovered, you needed to find a
way to get all of those things fixed before the book was published.</p>

<a onclick="switchContent('post9','post10')" class="btn" href="#6669830c2e0c05e85b490aca7e1d38e0">Read more...</a></div><div id="post10" style="display: none"><p><a href="http://amzn.to/1afkSIe">
<img src="https://realworldocaml.org/media/img/coversmall.png" align="left" width="150"/>
</a></p>

<p>It's taken a good long while, but Real World OCaml is finally done.
You can read it for free at
<a href="http://realworldocaml.org">http://realworldocaml.org</a>, or buy a
<a href="http://amzn.to/1afkSIe">hardcopy</a> or an
<a href="http://amzn.to/1gzzxTO">ebook</a> <a href="http://oreil.ly/S2Vtdh">version</a>.</p>

<p>The idea for the book was born in a bar in Tokyo in 2011.  After
talk-filled day at ICFP, a few of us, Ashish Agarwal and Marius
Eriksen, Anil, and myself, went out drinking.  We were all bellyaching
over the lack of a high-quality OCaml book in English, and, emboldened
by the Guinness and egged on by Ashish and Marius, Anil and I decided
that we were just going to have to go ahead and write the book
ourselves.  We brought Jason into the project soon after.</p>

<p>From the very beginning, Anil and I had different visions for the
book.  From my perspective, it was a simple proposition: there was no
good book available, and we were going to write one.  The goal was to
document the state of the art so as to make it more accessible.</p>

<p>Anil's vision was grander.  He argued that writing a book is an
opportunity to discover all of the things that are just too
embarrassing to explain.  And, once discovered, you needed to find a
way to get all of those things fixed before the book was published.</p>

<p>It was Anil's grander vision that we followed, and to good effect.
It's not that we fixed the problems ourselves.  We solved some
problems directly, but by and large, we ended up getting help from
those who were better positioned than us to fix the problems at hand.</p>

<p>Here are a few examples of pieces that came together over those two
years.</p>

<ul>
<li><em>OPAM.</em> The core work on OPAM was done by Thomas Gazagnaire at
OCamlPro (funded by Jane Street), with Anil collaborating closely.
This is probably the biggest improvement of the bunch.  It's hard to
overstate how transformational OPAM is.  Before OPAM, installing
OCaml libraries was a complex chore.  Now it's a joy.</li>
<li><em>The Core release process.</em> We decided early on to base the book on
Core, Jane Street's alternative to OCaml's standard library.  But
the release process around Core was too monolithic and too hard for
external collaborators.  We reorganized the process completely,
moving to weekly releases to github, with the repos broken out into
manageable components.  Most of this work was done by Jeremie Dimino
and Yury Sulsky at Jane Street.</li>
<li><em>Ctypes.</em> Anil was in charge of writing the section on C bindings,
and he decided that the standard way was just too painful to
explain.  That was the germ of ctypes, a library, written by Jeremy
Yallop, that lets you build C bindings entirely from within OCaml,
with a easy and simple interface.</li>
<li><em>Short paths.</em> One of the real pains associated with working with
Core is the heavy use that Core makes of the module system.  OCaml's
error messages, unfortunately, do not cope with this terribly well,
leading to absurd types in error messages, so you might see a type
rendered as <code>Core.Std.Int.Map.Key.t Core.Std.Option.Monad_infix</code>
where it could just as well have been rendered as <code>int option</code>.  We
worked with Jacques Garrigue to implement a better heuristic for
picking type names (suggested by Stephen Weeks, who implemented the
same heuristic for Mlton).  This is now available in the 4.01
version of the compiler, via the <code>-short-paths</code> patch.</li>
</ul>

<p>This period also saw the founding of OCaml Labs, a lab at Cambridge
University devoted to improving OCaml as a platform, with Anil at the
head.</p>

<p>And we're not done.  OCaml Labs and OCamlPro are still working on
improving OPAM and building out a curated OCaml Platform that's built
on top of OPAM.  There's ongoing work on improving documentation
generation so we can have better online API docs.  Jacques Garrigue
and Leo White are working on adding module aliases to OCaml which will
greatly improve compilation time for libraries like Core that need to
manage large namespaces.</p>

<p>And there are more projects that are improving OCaml and its
surrounding infrastructure that have no direct connection to Real
World OCaml, like:</p>

<ul>
<li>Frederic Bour and Thomas Refis' work on Merlin, a tool for providing
IDE-like tooling from within editors like VI and Emacs.</li>
<li>Mark Shinwell's work on improving GDB support for OCaml,</li>
<li>Fabrice le Fessant's work improving OCaml's interactions with
performance tools like perf. </li>
<li>Work that Ashish Agarwal, Christophe Troestler, Esther Baruk, and
now many others, have poured into improving the
<a href="http://ocaml.org">http://ocaml.org</a> website.</li>
</ul>

<p>Real World OCaml is of course a personal milestone for Jason, Anil and
myself (and for Leo White, Jeremy Yallop and Stephen Weeks, who made
some key contributions to the text).  But viewed from a broader
perspective, it's just one part of the increasing swirl of activity in
the OCaml community.</p>

<p>OCaml has been a great language for a very long time.  Now, we're
growing a social and technological infrastructure around it to match.</p><a onclick="switchContent('post10','post9')" class="btn" href="#6669830c2e0c05e85b490aca7e1d38e0">Hide</a></div></span>
<a name="270583dd49e7070c6e708ac7a28ba506"></a><span class="rss-header"><span class="rss-title"><a href="http://le-gall.net/sylvain+violaine/blog/index.php?post/2013/11/08/opam2debian%2C-a-tool-to-create-Debian-binary-package-out-of-OPAM"> opam2debian, a tool to create Debian binary package out of OPAM</a></span>&nbsp;&mdash;&nbsp;<span class="rss-author">Sylvain Le Gall</span>, <span class="rss-date">10 Nov 2013</span></span><span class="rss-description"><div id="post11"><p>One week ago, <a href="http://lists.ocaml.org/pipermail/opam-devel/2013-October/000240.html">a thread in opam-devel mailing list</a> started about the possibility to create binary snapshot to distribute OPAM packages. Distributing binary packages with everything already compiled is pretty useful when you want to make sure that everyone has the same version of packages installed and you don't want to spend time configuring all the computer of your colleague.</p>


<p>As a matter of fact I was also interested to see that happening. I have several computers where I want to install a set of packages and I want to snapshot OPAM archives when I am ready for an upgrade. I have tested for a long time another source distribution: <a href="http://godi.camlcity.org">GODI</a>. I even wrote a <a href="https://plus.google.com/+SylvainLeGall/posts/ahELQPy98Zb">puppet module</a> to drive it. This was a fun experience, but as with any source only distribution, there are some drawbacks. Especially even if it is fully automated, you get a lot of errors and timeout when trying to build automatically from source.</p>


<p>This is how <a href="http://forge.ocamlcore.org/projects/opam2debian">opam2debian</a> has started. I wanted a replacement for puppet-godi that takes advantage of OPAM and the possibility to distribute my set of packages everywhere quickly.</p>


<p>The goals of this project are:</p>
<a onclick="switchContent('post11','post12')" class="btn" href="#270583dd49e7070c6e708ac7a28ba506">Read more...</a></div><div id="post12" style="display: none"><p>One week ago, <a href="http://lists.ocaml.org/pipermail/opam-devel/2013-October/000240.html">a thread in opam-devel mailing list</a> started about the possibility to create binary snapshot to distribute OPAM packages. Distributing binary packages with everything already compiled is pretty useful when you want to make sure that everyone has the same version of packages installed and you don't want to spend time configuring all the computer of your colleague.</p>


<p>As a matter of fact I was also interested to see that happening. I have several computers where I want to install a set of packages and I want to snapshot OPAM archives when I am ready for an upgrade. I have tested for a long time another source distribution: <a href="http://godi.camlcity.org">GODI</a>. I even wrote a <a href="https://plus.google.com/+SylvainLeGall/posts/ahELQPy98Zb">puppet module</a> to drive it. This was a fun experience, but as with any source only distribution, there are some drawbacks. Especially even if it is fully automated, you get a lot of errors and timeout when trying to build automatically from source.</p>


<p>This is how <a href="http://forge.ocamlcore.org/projects/opam2debian">opam2debian</a> has started. I wanted a replacement for puppet-godi that takes advantage of OPAM and the possibility to distribute my set of packages everywhere quickly.</p>


<p>The goals of this project are:</p>
<ol>
<li>generate a Debian binary package with all the dependencies set on external packages (like libpcre)</li>
<li>use OPAM to build everything</li>
<li>use standard Debian process to build package</li>
<li>create snapshot of OPAM repository that allow to rebuild exactly the same thing on different arches</li>
</ol>

<p>The real challenge behind opam2debian was to be able to use standard Debian process to create package to get all the power of dependencies computation provided by the Debian maintainer scripts. My great achievement on this topic was to find a tool called <a href="http://proot.me/">proot</a> that allows you to bind mount a directory as a user. This is an achievement because it allows to create a package using a directory where you are not allowed to write (i.e. <em>/opt/opam2debian</em> directory which is owned by root). This is a way to do it on any Jenkins builder without root access and a standard way for Debian to build packages.</p>


<h3>Usage example</h3>


<p>I need to compile a set of package to install on all my Jenkins builder. Here is the list of packages I need and I also want to use the latest OCaml version. I want to build a Debian package for Debian Wheezy which has only OCaml 3.12.1.</p>


<p>Building the package:</p>

<pre>$ opam2debian create --build --name opam2debian-test2 --compiler 4.01.0 \
 ocamlfind fileutils ocaml-data-notation ocaml-expect ounit \
 ocamlmod ocamlify oasis yojson sexplib extlib pcre-ocaml \
 calendar ocaml-inifiles ocamlnet ocurl gettext inotify ocaml-sqlexpr \
 ocamlrss ocaml-xdg-basedir</pre>


<p>Getting the package list right can be tricky because the process will stop at the first error -- and if it is because the last package fails to build it can be long. I have implemented a --keep-build-dir in case you want to tune the package list live.</p>


<p>The program will build everything and it can takes quite a while. At the end you get a file <em>opam2debian-test2_20131105_amd64.deb</em> which has a reasonable size of 232MB. That is big, but it looks like the biggest directory is <em>$OPAMROOT/4.01.0/build</em>, I am not sure if I can remove it but we may save some space here (the build directory represents 50% of the package size).</p>


<p>Then you can just do a standard Debian installation:</p>


<pre>$ sudo dpkg -i opam2debian-test2_20131105_amd64.deb</pre>


<p>And you can use it:</p>


<pre>$ eval $(opam config env --root /opt/opam2debian/opam2debian-test2/)
$ which ocamlfind
 /opt/opam2debian/opam2debian-test2/4.01.0/bin/ocamlfind
$ ocamlfind list
 [...]
 stdlib              (version: [distributed with Ocaml])
 str                 (version: [distributed with Ocaml])
 threads             (version: [distributed with Ocaml])
 threads.posix       (version: [internal])
 threads.vm          (version: [internal])
 type_conv           (version: 109.41.00)
 unidiff             (version: 0.0.2)
 unix                (version: [distributed with Ocaml])
 userconf            (version: 0.3.1)
 xdg-basedir         (version: 0.0.3)
 xmlm                (version: 1.1.1)
 yojson              (version: 1.1.5)</pre>


<p>A nice thing to note, is that it is a standard OPAM install. You can install, update and upgrade OPAM from there, as root. However, I would recommend not to do it, and just rebuild a newer Debian package to upgrade.</p>


<h3>Install</h3>


<p>You will need the <a href="http://packages.debian.org/sid/opam">opam</a> and <a href="http://packages.debian.org/sid/proot">proot</a> Debian package available in Debian jessie and sid. You will also need various OCaml libraries (cmdliner, calendar, fileutils and jingoo).</p>


<p>Download the opam2debian tarball on the <a href="https://forge.ocamlcore.org/frs/?group_id=348">forge</a>, build  and install it.</p>


<p>The project is hosted on <a href="https://github.com/gildor478/opam2debian">github</a>.</p>


<h3>Open issues</h3>


<p>On the initial list of goals of the project. Not everything is completed. I have still several open issues.</p>


<p>In particular 4. (create snapshot of OPAM repository) was blocked by a bug in opam-mk-repo, that prevents snapshots (see <a href="https://github.com/ocaml/opam/pull/977">my pull-request to solve it</a>).</p>


<p>Another issues is about licenses of the included files. I should list them all and I need to figure out a way to extract every licences.</p>


<p>Submit bugs directly to <a href="https://github.com/gildor478/opam2debian/issues">github</a>.</p><a onclick="switchContent('post12','post11')" class="btn" href="#270583dd49e7070c6e708ac7a28ba506">Hide</a></div></span>
<script type="text/javascript">function switchContent(id1,id2) {
     // Get the DOM reference
     var contentId1 = document.getElementById(id1);
     var contentId2 = document.getElementById(id2);
     // Toggle
     contentId1.style.display = "none";
     contentId2.style.display = "block";
     }</script></div>

  
    </div>

    
    <br/>
    <hr/>
    <div id="footer">
      Contribute to this project!
      Find us on <a href="https://github.com/ocaml/ocaml.org">Github</a>.
    </div>
    <span title=".././img/ = image directory from the base of the site"></span>


    
    
    

    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    <script src=".././js/jquery-1.8.0.min.js"></script>
    
    <script src=".././js/bootstrap.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-22552764-2']); _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-37808023-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</body></html>
